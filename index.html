<index html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PadelBoard - App</title>
    <link rel="stylesheet" href="/app.css">
</head>    
<body class="min-h-full bg-gray-50">
    <!-- Contenido Principal -->
    <div class="main-content">
        <!-- Pesta√±a 1: Configurador -->
        <div id="configurador-tab" class="content-section active">
            <div class="py-8 px-4">
                <div class="max-w-4xl mx-auto">
                    <!-- Header -->
                    <div class="text-center mb-8">
                        <div class="flex items-center justify-center mb-4">
                            <img src="logo_padelboard.png" alt="Logo PadelBoard" class="app-logo">
                        </div>
                        <h1 class="text-3xl font-bold text-white mb-3">Configurador de Partido</h1> 
                        <p class="text-lg text-white opacity-90">Configura tu partido de p√°del con todos los detalles. Elige el formato, sistema de puntuaci√≥n y m√°s.</p>
                    </div>

                    <!-- Formulario Principal -->
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <form id="configuracionForm">
                            <!-- Jugadores -->
                            <div class="mb-8">
                                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    Jugadores
                                </h2>
                                <div>

                                    <div class="pair-card mb-4">
                                        <div class="pair-header">
                                            <h3>Pareja 1</h3>
                                        </div>
                                        <div class="pair-body">
                                            <input type="text" id="jugador1" name="jugador1" 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                                   placeholder="Jugador 1">
                                
                                            <input type="text" id="jugador2" name="jugador2" 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                                   placeholder="Jugador 2">
                                        </div>
                                    </div>
                                
                                    <div class="pair-card">
                                        <div class="pair-header">
                                            <h3>Pareja 2</h3>
                                        </div>
                                        <div class="pair-body">
                                            <input type="text" id="jugador3" name="jugador3" 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                                   placeholder="Jugador 3">
                                
                                            <input type="text" id="jugador4" name="jugador4" 
                                                   class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                                   placeholder="Jugador 4">
                                        </div>
                                    </div>
                                
                                </div>

                            <!-- Tipo de Juego -->
                            <div class="mb-8">
                                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    Tipo de Juego
                                </h2>
                                <div class="game-type-summary-card">
                                    <div>
                                        <h3 id="game-type-summary-title">Al mejor de 3</h3>
                                        <p id="game-type-summary-desc">Formato cl√°sico (por defecto)</p>
                                    </div>
                                    <button type="button" class="change-button" onclick="openGameTypeModal()">
                                        Cambiar
                                    </button>
                                </div>

                                <div class="bg-gray-100 rounded-xl p-6 opacity-70 hidden">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h3 class="font-bold text-lg mb-2 flex items-center">
                                                Juego Personalizado
                                            </h3>
                                            <p class="text-gray-600 text-sm">Elige la cantidad de games (1-8)</p>
                                        </div>
                                        <div class="flex items-center space-x-3">
                                            <label class="text-sm font-medium text-gray-700">Games:</label>
                                            <select id="customGames" onchange="selectCustomGames()" 
                                                    class="px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none input-disabled"
                                                    disabled>
                                                <option value="">Pr√≥ximamente</option>
                                                <option value="1">1 game</option>
                                                <option value="2">2 games</option>
                                                <option value="3">3 games</option>
                                                <option value="4">4 games</option>
                                                <option value="5">5 games</option>
                                                <option value="6">6 games</option>
                                                <option value="7">7 games</option>
                                                <option value="8">8 games</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sistema de Puntuaci√≥n -->
                            <div class="mb-8">
                                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    Sistema de Puntuaci√≥n
                                </h2>
                                <div class="segmented-control">
                                    <button type="button" id="scoring-golden" class="segment-button" onclick="selectScoring('golden', this)">
                                        Punto de Oro
                                    </button>
                                    <button type="button" id="scoring-advantage" class="segment-button" onclick="selectScoring('advantage', this)">
                                        Con Ventaja
                                    </button>
                                </div>
                            </div>

                            <!-- Cambio de Lado -->
                            <div class="mb-8">
                                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    Cambio de Lado
                                </h2>
                                <div class="segmented-control">
                                    <button type="button" id="side-odd" class="segment-button" onclick="selectSideChange('odd', this)">
                                        Juegos Impares
                                    </button>
                                    <button type="button" id="side-set" class="segment-button" onclick="selectSideChange('set', this)">
                                        Final de Set
                                    </button>
                                    <button type="button" id="side-none" class="segment-button" onclick="selectSideChange('none', this)">
                                        Sin Cambio
                                    </button>
                                </div>        
                        </div>                

                            <!-- M√©todo de Conteo -->
                            <div class="mb-8 hidden">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    M√©todo de Conteo
                                </h2>
                                <div class="segmented-control">
                                    <button type="button" id="counting-players" class="segment-button" onclick="selectCountingMethod('players', this)">
                                        Modo Jugadores
                                    </button>
                                    <button type="button" id="counting-referee" class="segment-button" onclick="selectCountingMethod('referee', this)">
                                        Modo √Årbitro
                                    </button>
                                </div>
                            </div>

                            <!-- Modo Torneo -->
                            <div class="mb-8">
                                
                                <label class="tournament-card">
                                    <input type="checkbox" id="tournamentMode" class="custom-checkbox-input">
                                        <div class="w-full">
                                            <div class="flex items-center">                                                
                                                <h3 class="font-bold text-lg text-gray-800" style="margin-right: 15px; margin-bottom: 18px;">
                                                    Modo Torneo
                                                </h3>                                                
                                                <div class="checkmark-box"></div>
                                            </div>
                                            <p class="text-gray-600 text-xs leading-tight" style="margin-top: -10px;">
                                                Cambio de lado obligatorio en Tie-breaks <br> (cada 6 pts)
                                            </p>
                                        </div>
                                </label>
                            </div>

                            <!-- Botones de Acci√≥n -->
                            <div class="flex flex-col sm:flex-row gap-4">
                                <button type="button" onclick="openConfirmModal(event)" 
                                        class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors">
                                    Iniciar Partido
                                </button>
                                <button type="button" onclick="resetConfig()" 
                                        class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors">
                                    Reiniciar Configuraci√≥n
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>


        <!-- Pesta√±a 2: Estad√≠sticas -->
        <div id="stats-tab" class="content-section">
            <div class="py-8 px-4">
                <div class="max-w-4xl mx-auto">
                    <!-- Header -->
                    <div class="text-center mb-8">
                        <div class="flex items-center justify-center mb-4">
                            <img src="/logo_padelboard.png" alt="Logo PadelBoard" class="app-logo">
                        </div>
                        <h1 class="text-3xl font-bold text-white mb-3">Estad√≠sticas de Rendimiento</h1>
                        <p class="text-lg text-white opacity-90">Revisa tu progreso y analiza tu juego. Todas las estad√≠sticas de tus partidos guardados.</p>
                    </div>

                    <!-- Contenido Principal -->
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <!-- Contenido sin login -->
                        <div id="stats-no-login" class="text-center py-12">
                            <div class="mb-8">
                                <svg class="mx-auto h-24 w-24 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                </svg>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-800 mb-6">Inicia sesi√≥n para ver tus estad√≠sticas</h2>
                            <p class="text-lg text-gray-600 mb-8">Registra tus partidos y accede a an√°lisis detallados de tu rendimiento. Todas las estad√≠sticas se guardan autom√°ticamente cuando juegas con sesi√≥n iniciada.</p>
                            <button onclick="showLoginForm()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors">
                                Iniciar Sesi√≥n
                            </button>
                        </div>
                        
                        <!-- App M√≥vil -->
                        <div class="mt-8">
                            <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                                <div class="mb-4">
                                    <svg class="w-16 h-16 mx-auto text-blue-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                    </svg>
                                    <h3 class="text-xl font-bold text-blue-800 mb-2">PadelBoard M√≥vil</h3>
                                    <p class="text-blue-600 mb-6">Lleva tus partidos contigo. Sincroniza autom√°ticamente tus estad√≠sticas.</p>
                                </div>
                                <button onclick="downloadApp()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-colors">
                                    Descargar App M√≥vil
                                </button>
                            </div>
                        </div>

                        <!-- Contenido con login (oculto inicialmente) -->
                        <div id="stats-with-login" class="hidden">
                            <!-- Resumen General -->
                            <div class="mb-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    Resumen General
                                </h2>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                                        <h3 class="text-3xl font-bold text-blue-800 mb-2">24</h3>
                                        <p class="text-blue-600 font-medium">Partidos Jugados</p>
                                    </div>
                                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                                        <h3 class="text-3xl font-bold text-blue-800 mb-2">67%</h3>
                                        <p class="text-blue-600 font-medium">Porcentaje de Victorias</p>
                                    </div>
                                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                                        <h3 class="text-3xl font-bold text-blue-800 mb-2">1,247</h3>
                                        <p class="text-blue-600 font-medium">Puntos Totales</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Estad√≠sticas Detalladas -->
                            <div class="mb-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    Estad√≠sticas Detalladas
                                </h2>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                                        <h3 class="text-xl font-bold text-gray-800 mb-4">Rendimiento por Set</h3>
                                        <div class="space-y-3">
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Sets ganados</span>
                                                <span class="font-bold text-blue-600">32</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Sets perdidos</span>
                                                <span class="font-bold text-gray-600">16</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Porcentaje de sets</span>
                                                <span class="font-bold text-blue-600">67%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                                        <h3 class="text-xl font-bold text-gray-800 mb-4">Rendimiento por Game</h3>
                                        <div class="space-y-3">
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Games ganados</span>
                                                <span class="font-bold text-blue-600">156</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Games perdidos</span>
                                                <span class="font-bold text-gray-600">98</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Porcentaje de games</span>
                                                <span class="font-bold text-blue-600">61%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Historial de Partidos -->
                            <div class="mb-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    √öltimos Partidos
                                </h2>
                                <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                                    <div class="space-y-4">
                                        <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                            <div>
                                                <span class="font-bold text-gray-800">Juan & Pedro vs Carlos & Ana</span>
                                                <p class="text-sm text-gray-600">Hace 2 d√≠as - Club Deportivo</p>
                                            </div>
                                            <span class="font-bold text-green-600 text-lg">6-4, 6-2</span>
                                        </div>
                                        <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                            <div>
                                                <span class="font-bold text-gray-800">Mar√≠a & Luis vs Sofia & Diego</span>
                                                <p class="text-sm text-gray-600">Hace 5 d√≠as - Polideportivo Norte</p>
                                            </div>
                                            <span class="font-bold text-red-600 text-lg">4-6, 3-6</span>
                                        </div>
                                        <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                            <div>
                                                <span class="font-bold text-gray-800">Alex & Carmen vs Roberto & Elena</span>
                                                <p class="text-sm text-gray-600">Hace 1 semana - Centro Deportivo</p>
                                            </div>
                                            <span class="font-bold text-green-600 text-lg">7-5, 6-4</span>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <!-- Bot√≥n Ver M√°s -->
                            <div class="text-center">
                                <button onclick="showFullStats()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors">
                                    Ver Historial Completo
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pesta√±a 3: Perfil -->
        <div id="perfil-tab" class="content-section">
            <div class="py-8 px-4">
                <div class="max-w-4xl mx-auto">
                    <!-- Header -->
                    <div class="text-center mb-8">
                        <div class="flex items-center justify-center mb-4">
                            <img src="/logo_padelboard.png" alt="Logo PadelBoard" class="app-logo">
                        </div>
                        <h1 class="text-3xl font-bold text-white mb-3">Gesti√≥n de Perfil</h1>
                        <p class="text-lg text-white opacity-90">Administra tu cuenta, configuraciones y preferencias. Inicia sesi√≥n para acceder a todas las funciones.</p>
                    </div>

                    <!-- Contenido Principal -->
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <!-- Formulario de Login -->
                        <div id="login-form">
                            <div class="text-center mb-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-4">Iniciar Sesi√≥n</h2>
                                <p class="text-gray-600">Accede a tu cuenta para ver estad√≠sticas y configuraciones</p>
                            </div>
                            
                            <form onsubmit="handleLogin(event)" class="max-w-md mx-auto">
                                <div class="mb-6">
                                    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                    <input type="email" id="email" name="email" required
                                           class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                           placeholder="tu@email.com">
                                </div>
                                
                                <div class="mb-6">
                                    <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Contrase√±a</label>
                                    <input type="password" id="password" name="password" required
                                           class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                           placeholder="Tu contrase√±a">
                                </div>
                                
                                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors mb-4">
                                    Iniciar Sesi√≥n
                                </button>
                                
                                <div class="text-center">
                                    <p class="text-gray-600 mb-4">¬øNo tienes cuenta?</p>
                                    <button type="button" onclick="showRegisterForm()" class="text-blue-600 hover:text-blue-700 font-medium">
                                        Crear cuenta nueva
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Formulario de Registro -->
                        <div id="register-form" class="hidden">
                            <div class="text-center mb-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-4">Crear Cuenta</h2>
                                <p class="text-gray-600">Reg√≠strate para guardar tus estad√≠sticas y configuraciones</p>
                            </div>
                            
                            <form onsubmit="handleRegister(event)" class="max-w-md mx-auto">
                                <div class="mb-6">
                                    <label for="reg-name" class="block text-sm font-medium text-gray-700 mb-2">Nombre completo</label>
                                    <input type="text" id="reg-name" name="name" required
                                           class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                           placeholder="Tu nombre completo">
                                </div>
                                
                                <div class="mb-6">
                                    <label for="reg-email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                    <input type="email" id="reg-email" name="email" required
                                           class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                           placeholder="tu@email.com">
                                </div>
                                
                                <div class="mb-6">
                                    <label for="reg-password" class="block text-sm font-medium text-gray-700 mb-2">Contrase√±a</label>
                                    <input type="password" id="reg-password" name="password" required
                                           class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors"
                                           placeholder="M√≠nimo 6 caracteres">
                                </div>
                                
                                <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors mb-4">
                                    Crear Cuenta
                                </button>
                                
                                <div class="text-center">
                                    <p class="text-gray-600 mb-4">¬øYa tienes cuenta?</p>
                                    <button type="button" onclick="showLoginForm()" class="text-blue-600 hover:text-blue-700 font-medium">
                                        Iniciar sesi√≥n
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Contenido sin login (oculto por defecto) -->
                        <div id="profile-no-login" class="hidden">
                            <div class="text-center py-12">
                                <div class="mb-8">
                                    <svg class="mx-auto h-24 w-24 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                    </svg>
                                </div>
                                <h2 class="text-2xl font-bold text-gray-800 mb-6">Inicia sesi√≥n para gestionar tu perfil</h2>
                                <p class="text-lg text-gray-600 mb-8">Accede a tu cuenta para personalizar configuraciones, ver tu historial y sincronizar datos con la app m√≥vil.</p>
                                <button onclick="showLoginForm()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors">
                                    Iniciar Sesi√≥n
                                </button>
                                
                                <!-- App M√≥vil -->
                                <div class="mt-8">
                                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                                        <div class="mb-4">
                                            <svg class="w-16 h-16 mx-auto text-blue-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                            </svg>
                                            <h3 class="text-xl font-bold text-blue-800 mb-2">PadelBoard M√≥vil</h3>
                                            <p class="text-blue-600 mb-6">Lleva tus partidos contigo. Sincroniza autom√°ticamente tus estad√≠sticas.</p>
                                        </div>
                                        <button onclick="downloadApp()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-colors">
                                            Descargar App M√≥vil
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Perfil de usuario (oculto inicialmente) -->
                        <div id="user-profile" class="hidden">
                            <!-- Informaci√≥n del Usuario -->
                            <div class="mb-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    Informaci√≥n Personal
                                </h2>
                                <div class="text-center mb-6">
                                    <div class="w-24 h-24 bg-gradient-to-r from-blue-50 to-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center border-4 border-blue-200">
                                        <span class="text-2xl font-bold text-blue-600" id="user-initials">ND</span>
                                    </div>
                                    <h3 class="text-xl font-bold text-gray-800" id="user-name">Nicolas Davila</h3>
                                    <p class="text-gray-600" id="user-email">nicolas.davila@email.com</p>
                                </div>
                            </div>

                            <!-- Configuraciones -->
                            <div class="mb-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    Configuraciones
                                </h2>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6">
                                        <h3 class="text-xl font-bold text-blue-800 mb-4 text-center">Preferencias de Juego</h3>
                                        <div class="space-y-4">
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Formato favorito</span>
                                                <span class="font-bold text-blue-600">Al mejor de 3</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Puntuaci√≥n preferida</span>
                                                <span class="font-bold text-blue-600">Punto de Oro</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Cambio de lado</span>
                                                <span class="font-bold text-blue-600">Juegos impares</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6">
                                        <h3 class="text-xl font-bold text-blue-800 mb-4 text-center">Configuraci√≥n de App</h3>
                                        <div class="space-y-4">
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Notificaciones</span>
                                                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold">Activadas</button>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Tema de la app</span>
                                                <button class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-bold">Claro</button>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-gray-700">Idioma</span>
                                                <button class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-bold">Espa√±ol</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Descargar App M√≥vil -->
                            <div class="mb-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                                    App M√≥vil
                                </h2>
                                <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                                    <div class="mb-4">
                                        <svg class="w-16 h-16 mx-auto text-blue-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                        </svg>
                                        <h3 class="text-xl font-bold text-blue-800 mb-2">PadelBoard M√≥vil</h3>
                                        <p class="text-blue-600 mb-6">Lleva tus partidos contigo. Sincroniza autom√°ticamente tus estad√≠sticas.</p>
                                    </div>
                                    <button onclick="downloadApp()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-colors">
                                        Descargar App M√≥vil
                                    </button>
                                </div>
                            </div>

                            <!-- Acciones -->
                            <div class="space-y-4">
                                <button class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors">
                                    Editar Perfil
                                </button>
                                <button onclick="handleLogout()" 
                                        class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors">
                                    Cerrar Sesi√≥n
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Banner de Descarga Inferior -->
    <div id="download-banner" class="bg-blue-600 text-white py-3 px-4 text-center relative hidden" style="position: fixed; bottom: 60px; left: 0; right: 0; z-index: 40;">        <div class="flex items-center justify-center space-x-4">
            <div class="flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                </svg>
                <span class="text-sm font-medium">¬°Descarga la App M√≥vil de PadelBoard!</span>
            </div>
            <button onclick="downloadApp()" class="bg-white text-blue-600 px-4 py-1 rounded-full text-sm font-bold hover:bg-gray-100 transition-colors">
                Descargar
            </button>
        </div>
        <button onclick="this.parentElement.style.display='none'" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-200">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>
    </div>

    <!-- Navegaci√≥n Inferior -->
    <div class="bottom-nav hidden">
        <div class="flex">
            <button onclick="switchTab('configurador')" id="tab-configurador" 
                    class="flex-1 py-4 px-2 text-center tab-active transition-colors">
                <div class="flex flex-col items-center">
                    <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span class="text-xs font-medium">Configurar</span>
                </div>
            </button>
            <button onclick="switchTab('stats')" id="tab-stats" 
                    class="flex-1 py-4 px-2 text-center tab-inactive transition-colors">
                <div class="flex flex-col items-center">
                    <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    <span class="text-xs font-medium">Estad√≠sticas</span>
                </div>
            </button>
            <button onclick="switchTab('perfil')" id="tab-perfil" 
                    class="flex-1 py-4 px-2 text-center tab-inactive transition-colors">
                <div class="flex flex-col items-center">
                    <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    <span class="text-xs font-medium">Perfil</span>
                </div>
            </button>
        </div>
    </div>

    <div id="gameTypeModal" class="modal-overlay hidden">
        <div class="modal-content">
      
          <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
              Selecciona un Formato de Juego
          </h2>
      
          <div class="game-type-button-list">
              <button type="button" onclick="selectGameTypeFromModal('3sets', 'Al mejor de 3', 'Formato cl√°sico (por defecto)')">
                  <h3>Al mejor de 3</h3>
                  <p>Partidos est√°ndar (1-3 sets)</p>
              </button>
              <button type="button" onclick="selectGameTypeFromModal('2sets-super', '2 Sets + Super Tie', 'Formato de torneo (tie-break a 10)')">
                <h3>2 Sets + Super Tie</h3>
                <p>Formato de torneo (tie-break a 10)</p>
            </button>
              <button type="button" onclick="selectGameTypeFromModal('1set', '1 Set', 'Partido √∫nico')">
                  <h3>1 Set</h3>
                  <p>Un solo set, ideal para partidos r√°pidos</p>
              </button>
              <button type="button" onclick="selectGameTypeFromModal('tiebreak', 'Solo Tie-break', 'Gana el primero en llegar a 7 puntos')">
                  <h3>Solo Tie-break</h3>
                  <p>Gana el primero en llegar a 7 puntos</p>
              </button>
              <button type="button" onclick="selectGameTypeFromModal('super-tiebreak', 'Super Tie-break', 'Gana el primero en llegar a 10 puntos')">
                  <h3>Super Tie-break</h3>
                  <p>Gana el primero en llegar a 10 puntos</p>
              </button>
              <button type="button" onclick="selectGameTypeFromModal('quick', 'Juego R√°pido', 'Un set corto a 4 games')">
                  <h3>Juego R√°pido</h3>
                  <p>Un set corto a 4 games</p>
              </button>
          </div>
      
          <div class="modal-actions">
              <button type="button" onclick="closeGameTypeModal()" 
                      class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-xl text-lg transition-colors">
                  Cancelar
              </button>
          </div>
        </div>
      </div>

    <!-- Modal Resumen del Partido -->
    <div id="confirmModal" class="modal-overlay hidden">
        <div class="modal-content">
    
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
                Resumen del Partido
            </h2>
            
            <div id="configSummaryList" class="summary-list">
                
                <div class="summary-group">
                    <h3 class="summary-title">Equipos</h3>
                    <div id="teams-summary" class="summary-details">
                        </div>
                </div>
                
                <div class="summary-group">
                    <h3 class="summary-title">Formato</h3>
                    <div id="format-summary" class="summary-details">
                        </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button type="button" onclick="closeConfirmModal()" 
                        class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-xl text-lg transition-colors">
                    Cancelar
                </button>
                <button type="button" onclick="startMatch()" 
                        class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl text-lg transition-colors">
                    Confirmar e Iniciar
                </button>
            </div>
        
        </div>
    </div>

    <script>
        // Variables globales
        // === CAMBIO CLAVE: CONFIGURACI√ìN POR DEFECTO ===
        let config = {
            players: {},
            gameType: '3sets',
            scoring: 'golden',
            countingMethod: 'players',
            sideChange: 'set'
        };

        let isLoggedIn = false;
        let currentUser = null;

        // Funci√≥n de descarga de app
        function downloadApp() {
            const downloadOptions = `
Descarga PadelBoard App

Elige tu plataforma:

üì± iOS (App Store)
ü§ñ Android (Google Play)
üíª Versi√≥n de Escritorio

Beneficios de la app m√≥vil:
‚Ä¢ Marcador offline sin conexi√≥n a internet
‚Ä¢ Sincronizaci√≥n autom√°tica de estad√≠sticas
‚Ä¢ Notificaciones de partidos programados
‚Ä¢ An√°lisis avanzado de rendimiento
‚Ä¢ Interfaz optimizada para m√≥viles

¬øEn qu√© dispositivo quieres instalarla?
            `;
            
            if (confirm(downloadOptions)) {
                // Aqu√≠ ir√≠an los links reales de descarga
                alert('üöÄ ¬°Genial! Te redirigiremos a la tienda de aplicaciones.\n\n(En la versi√≥n real, aqu√≠ se abrir√≠a el link de descarga correspondiente)');
            }
        }

        // Funciones del configurador
        // === FUNCIONES DE CONFIGURACI√ìN MODIFICADAS ===
        // --- NUEVA L√ìGICA: Modal "Tipo de Juego" ---
        function openGameTypeModal() {
            document.body.classList.add('modal-open');
            document.getElementById('gameTypeModal').classList.remove('hidden');

            // --- NUEVO: Marcar la selecci√≥n actual ---
            // 1. Limpiar todas
            document.querySelectorAll('#gameTypeModal .game-type-button-list button').forEach(btn => {
                btn.classList.remove('selected');
            });
            // 2. Encontrar el bot√≥n que coincide con la config y marcarlo
            const currentType = config.gameType; // ej: '3sets'
            const currentButton = document.querySelector(`#gameTypeModal button[onclick*="'${currentType}'"]`);
            if (currentButton) {
                currentButton.classList.add('selected');
            }
            // --- FIN DEL CAMBIO ---
        }

        function closeGameTypeModal() {
            document.body.classList.remove('modal-open');
            document.getElementById('gameTypeModal').classList.add('hidden');
        }

        function selectGameTypeFromModal(type, title, desc) {
            // 1. Actualizar la config global
            config.gameType = type;

            // --- NUEVO: Actualizar la selecci√≥n visual ---
            // 1. Quitar .selected de todos los botones
            document.querySelectorAll('#gameTypeModal .game-type-button-list button').forEach(btn => {
                btn.classList.remove('selected');
            });
            // 2. A√±adir .selected al bot√≥n clickeado
            // (Usamos un selector de atributos para encontrar el bot√≥n correcto)
            event.target.closest('button').classList.add('selected');
            // --- FIN DEL CAMBIO ---

            // 2. Actualizar la tarjeta resumen en la p√°gina principal
            document.getElementById('game-type-summary-title').textContent = title;
            document.getElementById('game-type-summary-desc').textContent = desc;

            // 3. Cerrar el modal
            closeGameTypeModal();

            // 4. Actualizar el modal de confirmaci√≥n
            updateSummary();
        }

        function selectScoring(type, element) {
            // 1. Actualizar la configuraci√≥n global
            config.scoring = type;

            // 2. Quitar 'selected' de todos los botones hermanos
            const parent = element.parentElement;
            parent.querySelectorAll('.segment-button').forEach(btn => {
                btn.classList.remove('selected');
            });

            // 3. A√±adir 'selected' solo al bot√≥n clickeado
            element.classList.add('selected');

            // 4. Actualizar el resumen
            updateSummary();
        }

        function selectCountingMethod(type, element) {
            // 1. Actualizar la configuraci√≥n global
            config.countingMethod = type;

            // 2. Quitar 'selected' de todos los botones hermanos
            const parent = element.parentElement;
            parent.querySelectorAll('.segment-button').forEach(btn => {
                btn.classList.remove('selected');
            });

            // 3. A√±adir 'selected' solo al bot√≥n clickeado
            element.classList.add('selected');

            // 4. Actualizar el resumen
            updateSummary();
        }

        function selectSideChange(type, element) {
            // 1. Actualizar la configuraci√≥n global
            config.sideChange = type;

            // 2. Quitar 'selected' de todos los botones hermanos
            const parent = element.parentElement;
            parent.querySelectorAll('.segment-button').forEach(btn => {
                btn.classList.remove('selected');
            });

            // 3. A√±adir 'selected' solo al bot√≥n clickeado
            element.classList.add('selected');

            // 4. Actualizar el resumen
            updateSummary();
        }

        function selectCustomGames() {
            const customGames = document.getElementById('customGames').value;
            if (customGames) {
                config.gameType = `custom-${customGames}`;
                document.querySelectorAll('.option-card').forEach(card => {
                    if (card.onclick && card.onclick.toString().includes('selectGameType')) {
                        card.classList.remove('selected');
                    }
                });
                updateSummary();
            }
        }

        function updateSummary() {
            const players = {
                jugador1: document.getElementById('jugador1').value || 'Jugador 1',
                jugador2: document.getElementById('jugador2').value || 'Jugador 2',
                jugador3: document.getElementById('jugador3').value || 'Jugador 3',
                jugador4: document.getElementById('jugador4').value || 'Jugador 4'
            };

            const gameTypes = {
                '1set': '1 Set',
                '3sets': 'Al mejor de 3 sets',
                '2sets-super': '2 Sets + Super Tie-break',
                'tiebreak': 'Solo Tie-break (7 puntos)',
                'super-tiebreak': 'Solo Super Tie-break (10 puntos)',
                'quick': 'Juego R√°pido (4 games)'
            };

            let gameTypeText = gameTypes[config.gameType] || 'No seleccionado';
            if (config.gameType && config.gameType.startsWith('custom-')) {
                const numGames = config.gameType.split('-')[1];
                gameTypeText = `Personalizado (${numGames} games)`;
            }

            const scoringTypes = {
                'golden': 'Punto de Oro',
                'advantage': 'Con Ventaja'
            };

            const countingMethodTypes = {
                'players': 'Modo Jugadores',
                'referee': 'Modo √Årbitro'
            };

            const sideChangeTypes = {
                'odd': 'Juegos impares',
                'set': 'Final de set',
                'none': 'Sin cambio'
            };

            // Actualizar cada recuadro por separado
            document.getElementById('teams-summary').innerHTML = `
                <p class="mb-2"><strong>Pareja 1:</strong> ${players.jugador1} / ${players.jugador2}</p>
                <p><strong>Pareja 2:</strong> ${players.jugador3} / ${players.jugador4}</p>
            `;

            document.getElementById('format-summary').innerHTML = `
                <p class="mb-2"><strong>Tipo:</strong> ${gameTypeText}</p>
                <p><strong>Puntuaci√≥n:</strong> ${scoringTypes[config.scoring] || 'No seleccionado'}</p>
                <p><strong>Cambio lado:</strong> ${sideChangeTypes[config.sideChange] || 'No seleccionado'}</p>
            `;
        }


        function startMatch() {
            closeConfirmModal(); // Cierra el modal primero
            // 1. Recopilamos y validamos que todos los campos est√©n llenos
            const players = {
                jugador1: document.getElementById('jugador1').value.trim(),
                jugador2: document.getElementById('jugador2').value.trim(),
                jugador3: document.getElementById('jugador3').value.trim(),
                jugador4: document.getElementById('jugador4').value.trim()
            };

            if (!players.jugador1 || !players.jugador2 || !players.jugador3 || !players.jugador4) {
                alert('Por favor, completa todos los nombres de los jugadores.');
                return;
            }
            if (!config.gameType || !config.scoring || !config.sideChange) {
                alert('Por favor, completa toda la configuraci√≥n del partido antes de iniciar.');
                return;
            }

            // 2. Preparamos la URL para hablar con la API que YA EXISTE
            const params = new URLSearchParams();
            params.append('a_first', players.jugador1);
            params.append('a_last', players.jugador2);
            params.append('b_first', players.jugador3);
            params.append('b_last', players.jugador4);

            // A√±adimos las reglas del partido desde el objeto config
            params.append('gameType', config.gameType);     // Ej: '3sets', '1set'
            params.append('scoring', config.scoring);       // Ej: 'golden', 'advantage'
            params.append('sideChange', config.sideChange); // Ej: 'set', 'odd'

            const tournamentEl = document.getElementById('tournamentMode');
            // Verificamos que exista para que no de error
            const isTournament = tournamentEl ? tournamentEl.checked : false;

            params.append('tournamentMode', isTournament);

            // La IP 192.168.4.1 es la direcci√≥n est√°ndar del ESP32 cuando crea su propia red
            const apiUrl = `http://192.168.4.1/api/names?${params.toString()}`;

            
            // 3. Enviamos la orden al marcador
            fetch(apiUrl, { mode: 'no-cors' }) 
                .then(() => {
                    // Ponemos un peque√±o retraso para asegurar que la alerta salga bien
                    setTimeout(() => {
                        alert('‚úÖ ¬°Partido Iniciado!\n\nRevisa la pantalla de la TV.');
                    }, 100);
                })
                .catch(error => {
                    console.error('Error al enviar la configuraci√≥n:', error);
                    alert(`Hubo un problema al conectar con el marcador.\n\nAseg√∫rate de estar conectado a la red WiFi "PadelScoreboard".`);
                });
            }

    function resetConfig() {
            // El reseteo ahora vuelve a los valores por defecto, no a vac√≠o
            config = {
                players: {},
                gameType: '3sets',
                scoring: 'golden',
                sideChange: 'set'
            };

            document.getElementById('configuracionForm').reset();
            document.getElementById('customGames').value = '';
 
            // Resetear Tipo de Juego (Tarjeta Resumen)
            document.getElementById('game-type-summary-title').textContent = 'Al mejor de 3';
            document.getElementById('game-type-summary-desc').textContent = 'Formato cl√°sico (por defecto)';
            
            document.querySelectorAll('#scoring-golden, #scoring-advantage').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.getElementById('scoring-golden').classList.add('selected');
            
            document.querySelectorAll('#side-odd, #side-set, #side-none').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.getElementById('side-set').classList.add('selected');

            updateSummary();
        }

        function openConfirmModal(event) {
            document.body.classList.add('modal-open');
            event.preventDefault(); // Evita que el formulario se env√≠e

            // 1. Recopilamos y validamos
            const players = {
                jugador1: document.getElementById('jugador1').value.trim(),
                jugador2: document.getElementById('jugador2').value.trim(),
                jugador3: document.getElementById('jugador3').value.trim(),
                jugador4: document.getElementById('jugador4').value.trim()
            };

            if (!players.jugador1 || !players.jugador2 || !players.jugador3 || !players.jugador4) {
                alert('Por favor, completa todos los nombres de los jugadores.');
                return;
            }
            if (!config.gameType || !config.scoring || !config.sideChange) {
                alert('Por favor, completa toda la configuraci√≥n del partido.');
                return;
            }

            // 2. Si todo est√° bien, actualiza el resumen y muestra el modal
            updateSummary(); // Asegura que el resumen est√© actualizado
            document.getElementById('confirmModal').classList.remove('hidden');
        }

        function closeConfirmModal() {
            document.body.classList.remove('modal-open');
            document.getElementById('confirmModal').classList.add('hidden');
        }

        // Funciones de navegaci√≥n
        function switchTab(tabName) {
            // Ocultar todas las secciones
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // Remover clase activa de todos los tabs
            document.querySelectorAll('[id^="tab-"]').forEach(tab => {
                tab.classList.remove('tab-active');
                tab.classList.add('tab-inactive');
            });

            // Mostrar la secci√≥n seleccionada
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Activar el tab correspondiente
            document.getElementById(`tab-${tabName}`).classList.remove('tab-inactive');
            document.getElementById(`tab-${tabName}`).classList.add('tab-active');
        }

        // Funciones de navegaci√≥n de estad√≠sticas
        function showFullStats() {
            // Crear el contenido del historial completo con todas las estad√≠sticas avanzadas
            const fullStatsContent = `
                <!-- Historial Completo de Estad√≠sticas -->
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Historial Completo de Estad√≠sticas</h2>
                        <button onclick="showBasicStats()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors">
                            Volver al Resumen
                        </button>
                    </div>
                </div>

                <!-- Estad√≠sticas del √öltimo Partido -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
                        Estad√≠sticas del √öltimo Partido
                    </h3>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                            <h4 class="text-2xl font-bold text-blue-800 mb-2">1h 23min</h4>
                            <p class="text-blue-600 font-medium">Duraci√≥n Total</p>
                        </div>
                        <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                            <h4 class="text-2xl font-bold text-blue-800 mb-2">156</h4>
                            <p class="text-blue-600 font-medium">Puntos Totales</p>
                        </div>
                        <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                            <h4 class="text-2xl font-bold text-blue-800 mb-2">7 puntos</h4>
                            <p class="text-blue-600 font-medium">Racha M√°xima</p>
                        </div>
                    </div>
                </div>

                <!-- Estad√≠sticas B√°sicas -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
                        Estad√≠sticas B√°sicas
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Duraci√≥n por Set</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Set 1 (6-4)</span>
                                    <span class="font-bold text-gray-800">38 min</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Set 2 (6-2)</span>
                                    <span class="font-bold text-gray-800">28 min</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Tiempo por game</span>
                                    <span class="font-bold text-gray-800">4.2 min</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Tiempo entre puntos</span>
                                    <span class="font-bold text-gray-800">18 seg</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Puntos por Pareja</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Juan & Pedro</span>
                                    <span class="font-bold text-gray-800">89 puntos (57%)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Carlos & Ana</span>
                                    <span class="font-bold text-gray-800">67 puntos (43%)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Efectividad ganadores</span>
                                    <span class="font-bold text-gray-800">72%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Puntos consecutivos m√°x</span>
                                    <span class="font-bold text-gray-800">7 (Juan & Pedro)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Estad√≠sticas Avanzadas (ESP32) -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
                        Estad√≠sticas Avanzadas
                    </h3>
                    <!-- Ritmo de Juego y Efectividad Cr√≠tica en una fila -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Ritmo de Juego</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Tiempo entre puntos</span>
                                    <span class="font-bold text-gray-800">18 seg</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Pareja m√°s r√°pida</span>
                                    <span class="font-bold text-gray-800">Juan & Pedro</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Velocidad promedio</span>
                                    <span class="font-bold text-gray-800">15 seg/punto</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Efectividad Cr√≠tica</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Break points ganados</span>
                                    <span class="font-bold text-gray-800">3/5 (60%)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Tie-breaks</span>
                                    <span class="font-bold text-gray-800">0/2 sets</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Recuperaciones</span>
                                    <span class="font-bold text-gray-800">2 remontadas</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patrones Avanzados de Juego -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
                        Patrones Avanzados de Juego
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Distribuci√≥n de Puntos</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Games dominantes (6-0, 6-1)</span>
                                    <span class="font-bold text-gray-800">25%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Games disputados (6-4, 7-5)</span>
                                    <span class="font-bold text-gray-800">60%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Games cerrados (7-6)</span>
                                    <span class="font-bold text-gray-800">15%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Puntos por game promedio</span>
                                    <span class="font-bold text-gray-800">6.8 puntos</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Velocidad de Juego</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Juan & Pedro (r√°pidos)</span>
                                    <span class="font-bold text-gray-800">14 seg/punto</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Carlos & Ana (lentos)</span>
                                    <span class="font-bold text-gray-800">22 seg/punto</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Puntos por game promedio</span>
                                    <span class="font-bold text-gray-800">6.8 puntos</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Frecuencia tie-breaks</span>
                                    <span class="font-bold text-gray-800">15% partidos</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patrones de Jugadores -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
                        Patrones de Jugadores
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Qu√≠mica de Parejas</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Juan & Pedro</span>
                                    <span class="font-bold text-gray-800">78% efectividad</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Mar√≠a & Luis</span>
                                    <span class="font-bold text-gray-800">65% efectividad</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Adaptabilidad</span>
                                    <span class="font-bold text-gray-800">Alta</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Rivalidades</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">vs Carlos & Ana</span>
                                    <span class="font-bold text-gray-800">4-1 (80%)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">vs Sofia & Diego</span>
                                    <span class="font-bold text-gray-800">2-3 (40%)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Competitividad</span>
                                    <span class="font-bold text-gray-800">Media-Alta</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Patrones Competitivos -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
                        Patrones Competitivos
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Remontadas y Dominio</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Remontadas √©picas</span>
                                    <span class="font-bold text-gray-800">3 este mes</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Primeros sets ganados</span>
                                    <span class="font-bold text-gray-800">18/24 (75%)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Racha ganadora actual</span>
                                    <span class="font-bold text-gray-800">4 partidos</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Racha m√°s larga</span>
                                    <span class="font-bold text-gray-800">7 partidos</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Resistencia Mental</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Rendimiento bajo presi√≥n</span>
                                    <span class="font-bold text-gray-800">82%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Momentos cr√≠ticos ganados</span>
                                    <span class="font-bold text-gray-800">15/20 (75%)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Factor sorpresa</span>
                                    <span class="font-bold text-gray-800">Medio</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Efectividad en tie-breaks</span>
                                    <span class="font-bold text-gray-800">4/6 (67%)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- An√°lisis de Rendimiento -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
                        An√°lisis de Rendimiento
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Curva de Aprendizaje</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Mejora mensual</span>
                                    <span class="font-bold text-gray-800">+8%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Tendencia victorias</span>
                                    <span class="font-bold text-gray-800">Ascendente</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Progreso t√©cnico</span>
                                    <span class="font-bold text-gray-800">Notable</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h4 class="text-lg font-bold text-blue-900 mb-4 text-center">Puntos de Quiebre</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Momentos decisivos</span>
                                    <span class="font-bold text-gray-800">89% ganados</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Break points</span>
                                    <span class="font-bold text-gray-800">12/18 (67%)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Efectividad</span>
                                    <span class="font-bold text-gray-800">Muy Alta</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Historial Completo de Partidos -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">Historial Completo de Partidos</h3>
                    <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                                <div>
                                    <span class="font-bold text-gray-800">Juan & Pedro vs Carlos & Ana</span>
                                    <p class="text-sm text-gray-600">Hace 2 d√≠as - Club Deportivo ‚Ä¢ Duraci√≥n: 1h 23min</p>
                                    <p class="text-xs text-green-600">Victoria ‚Ä¢ Remontada en 2¬∫ set ‚Ä¢ 7 puntos consecutivos</p>
                                </div>
                                <span class="font-bold text-green-600 text-lg">6-4, 6-2</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-red-50 rounded-lg border-l-4 border-red-500">
                                <div>
                                    <span class="font-bold text-gray-800">Mar√≠a & Luis vs Sofia & Diego</span>
                                    <p class="text-sm text-gray-600">Hace 5 d√≠as - Polideportivo Norte ‚Ä¢ Duraci√≥n: 1h 45min</p>
                                    <p class="text-xs text-red-600">Derrota ‚Ä¢ Tie-break perdido ‚Ä¢ Partido muy disputado</p>
                                </div>
                                <span class="font-bold text-red-600 text-lg">4-6, 3-6</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                                <div>
                                    <span class="font-bold text-gray-800">Alex & Carmen vs Roberto & Elena</span>
                                    <p class="text-sm text-gray-600">Hace 1 semana - Centro Deportivo ‚Ä¢ Duraci√≥n: 1h 38min</p>
                                    <p class="text-xs text-green-600">Victoria ‚Ä¢ Dominio total ‚Ä¢ 5 break points ganados</p>
                                </div>
                                <span class="font-bold text-green-600 text-lg">7-5, 6-4</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-green-50 rounded-lg border-l-4 border-green-500">
                                <div>
                                    <span class="font-bold text-gray-800">Fernando & Ana vs Miguel & Laura</span>
                                    <p class="text-sm text-gray-600">Hace 1 semana - Club Municipal ‚Ä¢ Duraci√≥n: 2h 15min</p>
                                    <p class="text-xs text-green-600">Victoria ‚Ä¢ Remontada √©pica ‚Ä¢ Partido de 3 sets</p>
                                </div>
                                <span class="font-bold text-green-600 text-lg">6-3, 4-6, 6-2</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-red-50 rounded-lg border-l-4 border-red-500">
                                <div>
                                    <span class="font-bold text-gray-800">Pablo & Carla vs Javier & Marta</span>
                                    <p class="text-sm text-gray-600">Hace 2 semanas - Polideportivo Sur ‚Ä¢ Duraci√≥n: 1h 12min</p>
                                    <p class="text-xs text-red-600">Derrota ‚Ä¢ Partido r√°pido ‚Ä¢ Rival superior</p>
                                </div>
                                <span class="font-bold text-red-600 text-lg">2-6, 4-6</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- App M√≥vil -->
                <div class="mb-8">
                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                        <div class="mb-4">
                            <svg class="w-16 h-16 mx-auto text-blue-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            <h3 class="text-xl font-bold text-blue-800 mb-2">PadelBoard M√≥vil</h3>
                            <p class="text-blue-600 mb-6">Lleva tus partidos contigo. Sincroniza autom√°ticamente tus estad√≠sticas.</p>
                        </div>
                        <button onclick="downloadApp()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-colors">
                            Descargar App M√≥vil
                        </button>
                    </div>
                </div>


            `;

            // Reemplazar el contenido de stats-with-login con el historial completo
            document.getElementById('stats-with-login').innerHTML = fullStatsContent;
        }

        function showBasicStats() {
            // Restaurar el contenido b√°sico de estad√≠sticas
            const basicStatsContent = `
                <!-- Resumen General -->
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                        Resumen General
                    </h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                            <h3 class="text-3xl font-bold text-blue-800 mb-2">24</h3>
                            <p class="text-blue-600 font-medium">Partidos Jugados</p>
                        </div>
                        <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                            <h3 class="text-3xl font-bold text-blue-800 mb-2">67%</h3>
                            <p class="text-blue-600 font-medium">Porcentaje de Victorias</p>
                        </div>
                        <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 text-center">
                            <h3 class="text-3xl font-bold text-blue-800 mb-2">1,247</h3>
                            <p class="text-blue-600 font-medium">Puntos Totales</p>
                        </div>
                    </div>
                </div>

                <!-- Estad√≠sticas Detalladas -->
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                        Estad√≠sticas Detalladas
                    </h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Rendimiento por Set</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Sets ganados</span>
                                    <span class="font-bold text-blue-600">32</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Sets perdidos</span>
                                    <span class="font-bold text-gray-600">16</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Porcentaje de sets</span>
                                    <span class="font-bold text-blue-600">67%</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Rendimiento por Game</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Games ganados</span>
                                    <span class="font-bold text-blue-600">156</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Games perdidos</span>
                                    <span class="font-bold text-gray-600">98</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Porcentaje de games</span>
                                    <span class="font-bold text-blue-600">61%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Historial de Partidos -->
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center">
                        √öltimos Partidos
                    </h2>
                    <div class="bg-white rounded-xl p-6 border-2 border-gray-200">
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                <div>
                                    <span class="font-bold text-gray-800">Juan & Pedro vs Carlos & Ana</span>
                                    <p class="text-sm text-gray-600">Hace 2 d√≠as - Club Deportivo</p>
                                </div>
                                <span class="font-bold text-green-600 text-lg">6-4, 6-2</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                <div>
                                    <span class="font-bold text-gray-800">Mar√≠a & Luis vs Sofia & Diego</span>
                                    <p class="text-sm text-gray-600">Hace 5 d√≠as - Polideportivo Norte</p>
                                </div>
                                <span class="font-bold text-red-600 text-lg">4-6, 3-6</span>
                            </div>
                            <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                <div>
                                    <span class="font-bold text-gray-800">Alex & Carmen vs Roberto & Elena</span>
                                    <p class="text-sm text-gray-600">Hace 1 semana - Centro Deportivo</p>
                                </div>
                                <span class="font-bold text-green-600 text-lg">7-5, 6-4</span>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- Bot√≥n Ver M√°s -->
                <div class="text-center">
                    <button onclick="showFullStats()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-lg transition-colors">
                        Ver Historial Completo
                    </button>
                </div>
            `;

            document.getElementById('stats-with-login').innerHTML = basicStatsContent;
        }

        // Funciones de autenticaci√≥n
        function showLoginForm() {
            document.getElementById('profile-no-login').classList.add('hidden');
            document.getElementById('user-profile').classList.add('hidden');
            document.getElementById('register-form').classList.add('hidden');
            document.getElementById('login-form').classList.remove('hidden');
        }

        function showRegisterForm() {
            document.getElementById('profile-no-login').classList.add('hidden');
            document.getElementById('user-profile').classList.add('hidden');
            document.getElementById('login-form').classList.add('hidden');
            document.getElementById('register-form').classList.remove('hidden');
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // Simulaci√≥n de login (en la app real ser√≠a una llamada al servidor)
            if (email && password) {
                isLoggedIn = true;
                currentUser = {
                    name: email.split('@')[0].charAt(0).toUpperCase() + email.split('@')[0].slice(1),
                    email: email,
                    initials: email.charAt(0).toUpperCase() + (email.split('@')[0].charAt(1) || 'U').toUpperCase()
                };
                
                updateUserProfile();
                updateStatsView();
                showUserProfile();
                
                alert('¬°Bienvenido! Has iniciado sesi√≥n correctamente.');
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            
            const name = document.getElementById('reg-name').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            
            if (password.length < 6) {
                alert('La contrase√±a debe tener al menos 6 caracteres');
                return;
            }
            
            // Simulaci√≥n de registro (en la app real ser√≠a una llamada al servidor)
            if (name && email && password) {
                isLoggedIn = true;
                currentUser = {
                    name: name,
                    email: email,
                    initials: name.split(' ').map(n => n.charAt(0)).join('').toUpperCase().substring(0, 2)
                };
                
                updateUserProfile();
                updateStatsView();
                showUserProfile();
                
                alert('¬°Cuenta creada exitosamente! Bienvenido a PadelBoard.');
            }
        }

        function showUserProfile() {
            document.getElementById('profile-no-login').classList.add('hidden');
            document.getElementById('login-form').classList.add('hidden');
            document.getElementById('register-form').classList.add('hidden');
            document.getElementById('user-profile').classList.remove('hidden');
        }

        function updateUserProfile() {
            if (currentUser) {
                document.getElementById('user-initials').textContent = currentUser.initials;
                document.getElementById('user-name').textContent = currentUser.name;
                document.getElementById('user-email').textContent = currentUser.email;
            }
        }

        function handleLogout() {
            isLoggedIn = false;
            currentUser = null;
            updateStatsView();
            
            // Mostrar directamente el formulario de login
            document.getElementById('user-profile').classList.add('hidden');
            document.getElementById('register-form').classList.add('hidden');
            document.getElementById('profile-no-login').classList.add('hidden');
            document.getElementById('login-form').classList.remove('hidden');
            
            alert('Sesi√≥n cerrada correctamente');
        }

        function updateStatsView() {
            if (isLoggedIn) {
                document.getElementById('stats-no-login').classList.add('hidden');
                document.getElementById('stats-with-login').classList.remove('hidden');
            } else {
                document.getElementById('stats-no-login').classList.remove('hidden');
                document.getElementById('stats-with-login').classList.add('hidden');
            }
        }

        // === INICIALIZACI√ìN MODIFICADA ===
        document.addEventListener('DOMContentLoaded', function() {
            updateStatsView();
            
            // Mostrar contenido apropiado seg√∫n el estado de login
            if (!isLoggedIn) {
                document.getElementById('login-form').classList.remove('hidden');
                document.getElementById('profile-no-login').classList.add('hidden');
                document.getElementById('user-profile').classList.add('hidden');
                document.getElementById('register-form').classList.add('hidden');
            }
            
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.addEventListener('input', updateSummary);
            });

            // Seleccionar las opciones por defecto al cargar la p√°gina
            document.getElementById('scoring-golden').classList.add('selected');
            document.getElementById('side-set').classList.add('selected');
            
            // Actualizar el resumen con los valores por defecto
            updateSummary();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98c0e80030e0824f',t:'MTc2MDA0NDY2Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();
</script>
</body>
</html>